"use strict";define("tripmind-background/adapters/application",["exports","ember-localforage-adapter/adapters/localforage"],function(e,t){e["default"]=t["default"].extend({caching:"none"})}),define("tripmind-background/app",["exports","ember","tripmind-background/resolver","ember-load-initializers","tripmind-background/config/environment"],function(e,t,a,n,r){var i=void 0;t["default"].MODEL_FACTORY_INJECTIONS=!0,i=t["default"].Application.extend({modulePrefix:r["default"].modulePrefix,podModulePrefix:r["default"].podModulePrefix,Resolver:a["default"]}),(0,n["default"])(i,r["default"].modulePrefix),e["default"]=i}),define("tripmind-background/appconfig/better_sanitize",["exports","ember","npm:sanitize-html"],function(e,t,a){e["default"]=function(e){return(0,a["default"])(e,{allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","img"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},transformTags:{a:a["default"].simpleTransform("a",{target:"_blank"})}})}}),define("tripmind-background/appconfig/constants",["exports","ember","tripmind-background/config/environment"],function(e,t,a){var n=t["default"].Object.create({ITEM_TYPES_BY_NAME:{COUNTRY:3,REGION:4,NEIGHBORHOOD:90,ATTRACTION:100},PER_PAGE:15,CDN_PATH_1:"https://da37ts4zp7h49.cloudfront.net/photos/",CDN_PATH_2:"https://d6fva57a21sq7.cloudfront.net/photos/",MAX_PAGE_TITLE_LENGTH:55,MAX_ITEM_WITH_TYPE_IN_PARENT_LENGTH:41,PAGE_TITLE_MAPPINGS:["Don't miss these top %s | Wanderant","Our favorite %s | Wanderant guides","Our favorite %s | Wanderant","Top 10 %s | Wanderant","Top %s | Wanderant","%s | Wanderant"],WANDERANT_IMAGES:0,GOOGLE_IMAGES:1,FLICKR_IMAGES:2,PANORAMIO_IMAGES:3,WIKIPEDIA_IMAGES:5,ARBITRARY_IMAGES:7,IMAGE_PROVIDERS:[{provider_id:0,provider_name:"Wanderant",sizes:[{name:"small",token:"small",max_width:200},{name:"medium",token:"medium",max_width:400},{name:"large",token:"large",max_width:1200}]},{provider_id:1,provider_name:"Google",sizes:[{name:"small",token:"w100",max_width:100},{name:"medium",token:"w500",max_width:500},{name:"large",token:"w3000",max_width:3e3}]},{provider_id:2,provider_name:"Flickr",sizes:[{name:"small",token:"m",max_width:240},{name:"medium",token:"z",max_width:640},{name:"large",token:"b",max_width:1024}]},{provider_id:3,provider_name:"Panoramio",sizes:[{name:"small",token:"small",max_width:240},{name:"medium",token:"medium",max_width:640},{name:"large",token:"original",max_width:1024}]},{provider_id:4,provider_name:"Google_street_view",sizes:[{name:"small",token:"200x125",max_width:240},{name:"medium",token:"320x200",max_width:640},{name:"large",token:"640x400",max_width:1024}]},{provider_id:5,provider_name:"Wikipedia",sizes:[{name:"small",token:"150",max_width:150},{name:"medium",token:"500",max_width:500},{name:"large",token:"1024",max_width:1024}]},{provider_id:6,provider_name:"Twobits",sizes:[{name:"small",token:"200x125",max_width:240},{name:"medium",token:"320x200",max_width:640},{name:"large",token:"1000x1000",max_width:1024}]},{provider_id:7,provider_name:"Arbitrary",sizes:[{name:"small",token:"a",max_width:240},{name:"medium",token:"a",max_width:640},{name:"large",token:"a",max_width:1024}]}],FLAT_DESIGN_COLORS:["#D24D57","#9A12B3","#22A7F0","#1F3A93","#1BBC9B","#87D37C","#2ECC71","#F89406","#F9BF3B","#F62459"],ITEM_TYPES_ARRAY:[],GOOGLE_PLACES_TYPE_CONVERSION:{administrative_area_level_1:"region",administrative_area_level_2:"region",administrative_area_level_3:"region",administrative_area_level_4:"region",administrative_area_level_5:"region",locality:"city",colloquial_area:"region",sublocality_level_4:"sublocality",sublocality_level_5:"sublocality",sublocality_level_3:"sublocality",sublocality_level_2:"sublocality",sublocality_level_1:"sublocality",establishment:"attraction"},allowedLocationTypes:["country","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","colloquial_area","sublocality"],allowedLocationTypesLimited:["country","locality","administrative_area_level_1"],GOOGLE_PLACE_DESTINATION_TYPES:["country","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","colloquial_area","sublocality"],GOOGLE_PLACE_RESTAURANT_TYPES:["restaurant","cafe","bakery"],GOOGLE_PLACE_NIGHTLIFE_TYPES:["bar","casino","movie_theater","night_club"],GOOGLE_PLACE_HOTEL_TYPES:["lodging"],GOOGLE_PLACE_ANY_RELEVANT_TYPES:["airport","amusement_park","aquarium","art_gallery","bakery","bar","cafe","casino","cemetery","church","city_hall","clothing_store","convenience_store","courthouse","department_store","electronics_store","embassy","florist","food","gym","hindu_temple","home_goods_store","jewelry_store","library","liquor_store","local_government_office","lodging","mosque","movie_theater","museum","night_club","park","post_office","restaurant","rv_park","shoe_store","shopping_mall","spa","stadium","store","synagogue","train_station","transit_station","university","zoo","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","colloquial_area","country","establishment","locality","natural_feature","neighborhood","place_of_worship","political","point_of_interest","premise","route","sublocality","sublocality_level_4","sublocality_level_5","sublocality_level_3","sublocality_level_2","sublocality_level_1"],DAY_NAMES:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]});"development"===a["default"].environment&&(n.BASE_SERVER_URL=""),("production"===a["default"].environment||"staging"===a["default"].environment)&&(n.BASE_SERVER_URL="https://www.wanderant.com"),n.ITEM_TYPES_ARRAY[1]={name:"continent",duration:1209600},n.ITEM_TYPES_ARRAY[2]={name:"world region",duration:1209600},n.ITEM_TYPES_ARRAY[3]={name:"country",duration:604800},n.ITEM_TYPES_ARRAY[4]={name:"region",duration:259200},n.ITEM_TYPES_ARRAY[5]={name:"state",duration:432e3},n.ITEM_TYPES_ARRAY[6]={name:"province",duration:172800},n.ITEM_TYPES_ARRAY[7]={name:"department",duration:172800},n.ITEM_TYPES_ARRAY[8]={name:"area",duration:86400},n.ITEM_TYPES_ARRAY[9]={name:"archipelago",duration:86400},n.ITEM_TYPES_ARRAY[10]={name:"islands",duration:86400},n.ITEM_TYPES_ARRAY[11]={name:"island",duration:86400},n.ITEM_TYPES_ARRAY[12]={name:"cape",duration:14400},n.ITEM_TYPES_ARRAY[13]={name:"county",duration:14400},n.ITEM_TYPES_ARRAY[14]={name:"district",duration:14400},n.ITEM_TYPES_ARRAY[15]={name:"peninsula",duration:14400},n.ITEM_TYPES_ARRAY[16]={name:"valley",duration:14400},n.ITEM_TYPES_ARRAY[30]={name:"city",duration:172800},n.ITEM_TYPES_ARRAY[31]={name:"capital city",duration:172800},n.ITEM_TYPES_ARRAY[32]={name:"municipality",duration:172800},n.ITEM_TYPES_ARRAY[40]={name:"town",duration:14400},n.ITEM_TYPES_ARRAY[41]={name:"township",duration:14400},n.ITEM_TYPES_ARRAY[50]={name:"village",duration:14400},n.ITEM_TYPES_ARRAY[51]={name:"resort",duration:14400},n.ITEM_TYPES_ARRAY[52]={name:"beach resort",duration:14400},n.ITEM_TYPES_ARRAY[53]={name:"ski resort",duration:14400},n.ITEM_TYPES_ARRAY[60]={name:"commune",duration:7200},n.ITEM_TYPES_ARRAY[70]={name:"sublocality",duration:7200},n.ITEM_TYPES_ARRAY[71]={name:"suburb",duration:7200},n.ITEM_TYPES_ARRAY[80]={name:"hamlet",duration:1800},n.ITEM_TYPES_ARRAY[81]={name:"borough",duration:1800},n.ITEM_TYPES_ARRAY[90]={name:"neighborhood",duration:7200},n.ITEM_TYPES_ARRAY[91]={name:"red light district",duration:7200},n.ITEM_TYPES_ARRAY[92]={name:"street",duration:3600},n.ITEM_TYPES_ARRAY[93]={name:"passage",duration:1800},n.ITEM_TYPES_ARRAY[100]={name:"attraction",duration:3600},n.ITEM_TYPES_ARRAY[101]={name:"museum",duration:5400},n.ITEM_TYPES_ARRAY[102]={name:"art gallery",duration:5400},n.ITEM_TYPES_ARRAY[103]={name:"gallery",duration:5400},n.ITEM_TYPES_ARRAY[104]={name:"History Museum",duration:5400},n.ITEM_TYPES_ARRAY[105]={name:"Military Museum",duration:5400},n.ITEM_TYPES_ARRAY[106]={name:"Art Museum",duration:5400},n.ITEM_TYPES_ARRAY[107]={name:"Natural History Museum",duration:5400},n.ITEM_TYPES_ARRAY[108]={name:"Science Museum",duration:5400},n.ITEM_TYPES_ARRAY[109]={name:"Specialty Museum",duration:5400},n.ITEM_TYPES_ARRAY[201]={name:"landmark",duration:1800},n.ITEM_TYPES_ARRAY[202]={name:"monument",duration:1800},n.ITEM_TYPES_ARRAY[203]={name:"gate",duration:1800},n.ITEM_TYPES_ARRAY[204]={name:"bridge",duration:1800},n.ITEM_TYPES_ARRAY[205]={name:"dam",duration:1800},n.ITEM_TYPES_ARRAY[206]={name:"statue",duration:1800},n.ITEM_TYPES_ARRAY[207]={name:"memorial",duration:1800},n.ITEM_TYPES_ARRAY[208]={name:"fountain",duration:1800},n.ITEM_TYPES_ARRAY[209]={name:"sculpture",duration:1800},n.ITEM_TYPES_ARRAY[210]={name:"aqueduct",duration:1800},n.ITEM_TYPES_ARRAY[211]={name:"lighthouse",duration:1800},n.ITEM_TYPES_ARRAY[212]={name:"mausoleum",duration:1800},n.ITEM_TYPES_ARRAY[213]={name:"art work",duration:1800},n.ITEM_TYPES_ARRAY[301]={name:"square",duration:1800},n.ITEM_TYPES_ARRAY[302]={name:"archaeological site",duration:1800},n.ITEM_TYPES_ARRAY[303]={name:"world heritage site",duration:1800},n.ITEM_TYPES_ARRAY[304]={name:"historic site",duration:3600},n.ITEM_TYPES_ARRAY[305]={name:"reservation",duration:3600},n.ITEM_TYPES_ARRAY[306]={name:"pier",duration:3600},n.ITEM_TYPES_ARRAY[307]={name:"port",duration:3600},n.ITEM_TYPES_ARRAY[308]={name:"canal",duration:3600},n.ITEM_TYPES_ARRAY[309]={name:"concentration camp",duration:5400},n.ITEM_TYPES_ARRAY[310]={name:"mine",duration:3600},n.ITEM_TYPES_ARRAY[311]={name:"reservoir",duration:1800},n.ITEM_TYPES_ARRAY[312]={name:"historic building",duration:5400},n.ITEM_TYPES_ARRAY[401]={name:"natural feature",duration:3600},n.ITEM_TYPES_ARRAY[402]={name:"garden",duration:3600},n.ITEM_TYPES_ARRAY[403]={name:"body of water",duration:1800},n.ITEM_TYPES_ARRAY[404]={name:"canyon",duration:1800},n.ITEM_TYPES_ARRAY[405]={name:"cave",duration:1800},n.ITEM_TYPES_ARRAY[406]={name:"desert",duration:3600},n.ITEM_TYPES_ARRAY[407]={name:"forest",duration:3600},n.ITEM_TYPES_ARRAY[408]={name:"hill",duration:5400},n.ITEM_TYPES_ARRAY[410]={name:"lake",duration:5400},n.ITEM_TYPES_ARRAY[411]={name:"mountain",duration:14400},n.ITEM_TYPES_ARRAY[412]={name:"river",duration:1800},n.ITEM_TYPES_ARRAY[413]={name:"volcano",duration:14400},n.ITEM_TYPES_ARRAY[414]={name:"waterfall",duration:3600},n.ITEM_TYPES_ARRAY[415]={name:"waterfront",duration:3600},n.ITEM_TYPES_ARRAY[416]={name:"park",duration:3600},n.ITEM_TYPES_ARRAY[417]={name:"bird watching",duration:5400},n.ITEM_TYPES_ARRAY[418]={name:"outdoors",duration:3600},n.ITEM_TYPES_ARRAY[419]={name:"zoo",duration:5400},n.ITEM_TYPES_ARRAY[420]={name:"aquarium",duration:5400},n.ITEM_TYPES_ARRAY[421]={name:"Geologic Formation",duration:1800},n.ITEM_TYPES_ARRAY[422]={name:"Hot Spring",duration:3600},n.ITEM_TYPES_ARRAY[423]={name:"National Park",duration:7200},n.ITEM_TYPES_ARRAY[424]={name:"Scenic Drive",duration:5400},n.ITEM_TYPES_ARRAY[425]={name:"Trail",duration:5400},n.ITEM_TYPES_ARRAY[426]={name:"Safari",duration:10800},n.ITEM_TYPES_ARRAY[427]={name:"Marine park",duration:7200},n.ITEM_TYPES_ARRAY[428]={name:"Botanical garden",duration:7200},n.ITEM_TYPES_ARRAY[429]={name:"Tree",duration:1800},n.ITEM_TYPES_ARRAY[430]={name:"summit",duration:1800},n.ITEM_TYPES_ARRAY[431]={name:"peak",duration:1800},n.ITEM_TYPES_ARRAY[432]={name:"mountain range",duration:14400},n.ITEM_TYPES_ARRAY[433]={name:"glacier",duration:7200},n.ITEM_TYPES_ARRAY[434]={name:"pinnacle",duration:1800},n.ITEM_TYPES_ARRAY[435]={name:"pass",duration:5400},n.ITEM_TYPES_ARRAY[436]={name:"pond",duration:1800},n.ITEM_TYPES_ARRAY[437]={name:"bay",duration:3600},n.ITEM_TYPES_ARRAY[438]={name:"fjord",duration:7200},n.ITEM_TYPES_ARRAY[438]={name:"jungle",duration:10800},n.ITEM_TYPES_ARRAY[439]={name:"lagoon",duration:5400},n.ITEM_TYPES_ARRAY[440]={name:"crater",duration:5400},n.ITEM_TYPES_ARRAY[441]={name:"nature reserve",duration:7200},n.ITEM_TYPES_ARRAY[442]={name:"swamp",duration:5400},n.ITEM_TYPES_ARRAY[443]={name:"wildlife reserve",duration:7200},n.ITEM_TYPES_ARRAY[444]={name:"stream",duration:3600},n.ITEM_TYPES_ARRAY[445]={name:"reef",duration:10800},n.ITEM_TYPES_ARRAY[446]={name:"ice field",duration:7200},n.ITEM_TYPES_ARRAY[447]={name:"estuary",duration:1800},n.ITEM_TYPES_ARRAY[448]={name:"strait",duration:3600},n.ITEM_TYPES_ARRAY[449]={name:"cliff",duration:3600},n.ITEM_TYPES_ARRAY[501]={name:"viewpoint",duration:1800},n.ITEM_TYPES_ARRAY[601]={name:"cultural",duration:3600},n.ITEM_TYPES_ARRAY[602]={name:"cultural site",duration:1800},n.ITEM_TYPES_ARRAY[603]={name:"educational institution",duration:1800},n.ITEM_TYPES_ARRAY[701]={name:"observatory",duration:3600},n.ITEM_TYPES_ARRAY[702]={name:"science",duration:3600},n.ITEM_TYPES_ARRAY[801]={name:"religious site",duration:1800},n.ITEM_TYPES_ARRAY[802]={name:"hindu temple",duration:1800},n.ITEM_TYPES_ARRAY[803]={name:"mosque",duration:1800},n.ITEM_TYPES_ARRAY[804]={name:"place of worship",duration:1800},n.ITEM_TYPES_ARRAY[805]={name:"church",duration:1800},n.ITEM_TYPES_ARRAY[806]={name:"synagogue",duration:1800},n.ITEM_TYPES_ARRAY[807]={name:"cemetery",duration:1800},n.ITEM_TYPES_ARRAY[808]={name:"temple",duration:1800},n.ITEM_TYPES_ARRAY[809]={name:"shrine",duration:1800},n.ITEM_TYPES_ARRAY[810]={name:"pagoda",duration:1800},n.ITEM_TYPES_ARRAY[811]={name:"basilica",duration:1800},n.ITEM_TYPES_ARRAY[812]={name:"chapel",duration:1800},n.ITEM_TYPES_ARRAY[813]={name:"abbey",duration:1800},n.ITEM_TYPES_ARRAY[814]={name:"monastery",duration:3600},n.ITEM_TYPES_ARRAY[815]={name:"baptistery",duration:1800},n.ITEM_TYPES_ARRAY[816]={name:"cloisters",duration:1800},n.ITEM_TYPES_ARRAY[901]={name:"activity",duration:5400},n.ITEM_TYPES_ARRAY[902]={name:"tour",duration:7200},n.ITEM_TYPES_ARRAY[903]={name:"classes",duration:5400},n.ITEM_TYPES_ARRAY[904]={name:"hiking",duration:10800},n.ITEM_TYPES_ARRAY[905]={name:"adventure",duration:10800},n.ITEM_TYPES_ARRAY[906]={name:"boat tour",duration:10800},n.ITEM_TYPES_ARRAY[907]={name:"golf",duration:10800},n.ITEM_TYPES_ARRAY[908]={name:"private tour",duration:10800},n.ITEM_TYPES_ARRAY[909]={name:"diving",duration:21600},n.ITEM_TYPES_ARRAY[910]={name:"sightseeing tour",duration:5400},n.ITEM_TYPES_ARRAY[911]={name:"swimming",duration:5400},n.ITEM_TYPES_ARRAY[912]={name:"walking tour",duration:5400},n.ITEM_TYPES_ARRAY[913]={name:"Marina",duration:7200},n.ITEM_TYPES_ARRAY[914]={name:"Scenic/ Historic Walking Area",duration:5400},n.ITEM_TYPES_ARRAY[915]={name:"Surf Camp",duration:7200},n.ITEM_TYPES_ARRAY[916]={name:"climbing",duration:5400},n.ITEM_TYPES_ARRAY[917]={name:"water sports",duration:5400},n.ITEM_TYPES_ARRAY[918]={name:"cycling",duration:5400},n.ITEM_TYPES_ARRAY[919]={name:"extreme sports",duration:5400},n.ITEM_TYPES_ARRAY[920]={name:"fishing",duration:5400},n.ITEM_TYPES_ARRAY[921]={name:"animal rides",duration:5400},n.ITEM_TYPES_ARRAY[922]={name:"scenic flight",duration:5400},n.ITEM_TYPES_ARRAY[923]={name:"driving",duration:5400},n.ITEM_TYPES_ARRAY[924]={name:"sports activity",duration:5400},n.ITEM_TYPES_ARRAY[1001]={name:"building",duration:1800},n.ITEM_TYPES_ARRAY[1002]={name:"cultural building",duration:1800},n.ITEM_TYPES_ARRAY[1003]={name:"government building",duration:1800},n.ITEM_TYPES_ARRAY[1004]={name:"mansion",duration:3600},n.ITEM_TYPES_ARRAY[1005]={name:"tower",duration:1800},n.ITEM_TYPES_ARRAY[1006]={name:"windmill",duration:1800},n.ITEM_TYPES_ARRAY[1007]={name:"architecture",duration:1800},n.ITEM_TYPES_ARRAY[1008]={name:"castle",duration:3600},n.ITEM_TYPES_ARRAY[1009]={name:"fortress",duration:3600},n.ITEM_TYPES_ARRAY[1010]={name:"library",duration:1800},n.ITEM_TYPES_ARRAY[1011]={name:"palace",duration:3600},n.ITEM_TYPES_ARRAY[1012]={name:"villa",duration:3600},n.ITEM_TYPES_ARRAY[1013]={name:"fortification",duration:1800},n.ITEM_TYPES_ARRAY[1014]={name:"fort",duration:3600},n.ITEM_TYPES_ARRAY[1015]={name:"edifice",duration:3600},n.ITEM_TYPES_ARRAY[1016]={name:"official residence",duration:5400},n.ITEM_TYPES_ARRAY[1017]={name:"royal residence",duration:5400},n.ITEM_TYPES_ARRAY[1018]={name:"prison",duration:5400},n.ITEM_TYPES_ARRAY[1019]={name:"apartment",duration:3600},n.ITEM_TYPES_ARRAY[1101]={name:"store",duration:1800},n.ITEM_TYPES_ARRAY[1102]={name:"shopping mall",duration:5400},n.ITEM_TYPES_ARRAY[1103]={name:"bicycle store",duration:1800},n.ITEM_TYPES_ARRAY[1104]={name:"book store",duration:1800},n.ITEM_TYPES_ARRAY[1105]={name:"clothing store",duration:1800},n.ITEM_TYPES_ARRAY[1106]={name:"convenience store",duration:1800},n.ITEM_TYPES_ARRAY[1107]={name:"department store",duration:3600},n.ITEM_TYPES_ARRAY[1108]={name:"electronics store",duration:1800},n.ITEM_TYPES_ARRAY[1109]={name:"florist",duration:1800},n.ITEM_TYPES_ARRAY[1110]={name:"furniture store",duration:1800},n.ITEM_TYPES_ARRAY[1111]={name:"grocery",duration:1800},n.ITEM_TYPES_ARRAY[1112]={name:"hardware store",duration:1800},n.ITEM_TYPES_ARRAY[1113]={name:"home goods store",duration:1800},n.ITEM_TYPES_ARRAY[1114]={name:"jewelry store",duration:1800},n.ITEM_TYPES_ARRAY[1115]={name:"liquor store",duration:1800},n.ITEM_TYPES_ARRAY[1116]={name:"market",duration:3600},n.ITEM_TYPES_ARRAY[1117]={name:"pet store",duration:1800},n.ITEM_TYPES_ARRAY[1118]={name:"shoe store",duration:1800},n.ITEM_TYPES_ARRAY[1119]={name:"Gear Rental",duration:1800},n.ITEM_TYPES_ARRAY[1120]={name:"Shop",duration:1800},n.ITEM_TYPES_ARRAY[1121]={name:"Specialty Shop",duration:1800},n.ITEM_TYPES_ARRAY[1201]={name:"bakery",duration:1800},n.ITEM_TYPES_ARRAY[1202]={name:"cafe",duration:1800},n.ITEM_TYPES_ARRAY[1203]={name:"food",duration:3600},n.ITEM_TYPES_ARRAY[1204]={name:"meal delivery",duration:1800},n.ITEM_TYPES_ARRAY[1205]={name:"meal takeaway",duration:1800},n.ITEM_TYPES_ARRAY[1206]={name:"restaurant",duration:3600},n.ITEM_TYPES_ARRAY[1207]={name:"Coffee house",duration:1800},n.ITEM_TYPES_ARRAY[1301]={name:"event",duration:3600},n.ITEM_TYPES_ARRAY[1401]={name:"nightlife",duration:7200},n.ITEM_TYPES_ARRAY[1402]={name:"night club",duration:7200},n.ITEM_TYPES_ARRAY[1403]={name:"dance club",duration:7200},n.ITEM_TYPES_ARRAY[1404]={name:"gay bar",duration:5400},n.ITEM_TYPES_ARRAY[1405]={name:"bar",duration:5400},n.ITEM_TYPES_ARRAY[1502]={name:"brewery",duration:3600},n.ITEM_TYPES_ARRAY[1503]={name:"distillery",duration:3600},n.ITEM_TYPES_ARRAY[1504]={name:"winery",duration:1800},n.ITEM_TYPES_ARRAY[1601]={name:"entertainment",duration:3600},n.ITEM_TYPES_ARRAY[1602]={name:"amusement park",duration:7200},n.ITEM_TYPES_ARRAY[1603]={name:"bowling alley",duration:5400},n.ITEM_TYPES_ARRAY[1604]={name:"casino",duration:5400},n.ITEM_TYPES_ARRAY[1605]={name:"movie theater",duration:9e3},n.ITEM_TYPES_ARRAY[1606]={name:"performance venue",duration:7200},n.ITEM_TYPES_ARRAY[1607]={name:"sport venue",duration:7200},n.ITEM_TYPES_ARRAY[1608]={name:"stadium",duration:1800},n.ITEM_TYPES_ARRAY[1609]={name:"theme park",duration:10800},n.ITEM_TYPES_ARRAY[1610]={name:"Race Car Track",duration:5400},n.ITEM_TYPES_ARRAY[1611]={name:"Theater",duration:9e3},n.ITEM_TYPES_ARRAY[1612]={name:"Water Park",duration:7200},n.ITEM_TYPES_ARRAY[1613]={name:"Water sports",duration:7200},n.ITEM_TYPES_ARRAY[1614]={name:"Opera house",duration:7200},n.ITEM_TYPES_ARRAY[1615]={name:"festival",duration:10800},n.ITEM_TYPES_ARRAY[1616]={name:"race track",duration:7200},n.ITEM_TYPES_ARRAY[1617]={name:"amphitheater",duration:5400},n.ITEM_TYPES_ARRAY[1618]={name:"arena",duration:3600},n.ITEM_TYPES_ARRAY[1619]={name:"roller coaster",duration:1800},n.ITEM_TYPES_ARRAY[1620]={name:"arcade",duration:3600},n.ITEM_TYPES_ARRAY[1621]={name:"ice skating",duration:5400},n.ITEM_TYPES_ARRAY[1701]={name:"spa",duration:1800},n.ITEM_TYPES_ARRAY[1702]={name:"bath house",duration:3600},n.ITEM_TYPES_ARRAY[1703]={name:"beach",duration:5400},n.ITEM_TYPES_ARRAY[1704]={name:"farm",duration:1800},n.ITEM_TYPES_ARRAY[1705]={name:"gym",duration:3600},n.ITEM_TYPES_ARRAY[1706]={name:"pool",duration:3600},n.ITEM_TYPES_ARRAY[1801]={name:"accommodation",duration:3600},n.ITEM_TYPES_ARRAY[1802]={name:"lodging",duration:3600},n.ITEM_TYPES_ARRAY[1803]={name:"hotel",duration:3600},n.ITEM_TYPES_ARRAY[1804]={name:"motel",duration:3600},n.ITEM_TYPES_ARRAY[1901]={name:"health",duration:1800},n.ITEM_TYPES_ARRAY[1902]={name:"dentist",duration:3600},n.ITEM_TYPES_ARRAY[1903]={name:"doctor",duration:1800},n.ITEM_TYPES_ARRAY[1904]={name:"hospital",duration:3600},n.ITEM_TYPES_ARRAY[1905]={name:"pharmacy",duration:1800},n.ITEM_TYPES_ARRAY[1906]={name:"physiotherapist",duration:1800},n.ITEM_TYPES_ARRAY[2001]={name:"business",duration:1800},n.ITEM_TYPES_ARRAY[2002]={name:"accounting",duration:1800},n.ITEM_TYPES_ARRAY[2003]={name:"industrial site",duration:1800},n.ITEM_TYPES_ARRAY[2004]={name:"Convention Center",duration:1800},n.ITEM_TYPES_ARRAY[2005]={name:"Factory Tour",duration:3600},n.ITEM_TYPES_ARRAY[2101]={name:"airport",duration:1800},n.ITEM_TYPES_ARRAY[2102]={name:"bus station",duration:1800},n.ITEM_TYPES_ARRAY[2103]={name:"car rental",duration:1800},n.ITEM_TYPES_ARRAY[2104]={name:"parking",duration:1800},n.ITEM_TYPES_ARRAY[2105]={name:"subway station",duration:1800},n.ITEM_TYPES_ARRAY[2106]={name:"taxi stand",duration:1800},n.ITEM_TYPES_ARRAY[2107]={name:"train station",duration:1800},n.ITEM_TYPES_ARRAY[2108]={name:"transit station",duration:1800},n.ITEM_TYPES_ARRAY[2109]={name:"ship",duration:5400},n.ITEM_TYPES_ARRAY[2110]={name:"railway",duration:5400},n.ITEM_TYPES_ARRAY[2111]={name:"submarine",duration:5400},n.ITEM_TYPES_ARRAY[2112]={name:"ferry",duration:3600},n.ITEM_TYPES_ARRAY[2201]={name:"floor",duration:1800},n.ITEM_TYPES_ARRAY[2202]={name:"geocode",duration:1800},n.ITEM_TYPES_ARRAY[2203]={name:"intersection",duration:1800},n.ITEM_TYPES_ARRAY[2205]={name:"point of interest",duration:1800},n.ITEM_TYPES_ARRAY[2206]={name:"political",duration:1800},n.ITEM_TYPES_ARRAY[2207]={name:"post box",duration:1800},n.ITEM_TYPES_ARRAY[2208]={name:"postal code",duration:1800},n.ITEM_TYPES_ARRAY[2209]={name:"postal code prefix",duration:1800},n.ITEM_TYPES_ARRAY[2210]={name:"postal town",duration:1800},n.ITEM_TYPES_ARRAY[2211]={name:"premise",duration:1800},n.ITEM_TYPES_ARRAY[2212]={name:"room",duration:1800},n.ITEM_TYPES_ARRAY[2213]={name:"route",duration:1800},n.ITEM_TYPES_ARRAY[2214]={name:"street address",duration:1800},n.ITEM_TYPES_ARRAY[2215]={name:"street number",duration:1800},n.ITEM_TYPES_ARRAY[2216]={name:"subpremise",duration:1800},n.ITEM_TYPES_ARRAY[2301]={name:"atm",duration:1800},n.ITEM_TYPES_ARRAY[2302]={name:"bank",duration:1800},n.ITEM_TYPES_ARRAY[2303]={name:"beauty salon",duration:1800},n.ITEM_TYPES_ARRAY[2304]={name:"campground",duration:1800},n.ITEM_TYPES_ARRAY[2305]={name:"car dealer",duration:1800},n.ITEM_TYPES_ARRAY[2306]={name:"car repair",duration:1800},n.ITEM_TYPES_ARRAY[2307]={name:"car wash",duration:1800},n.ITEM_TYPES_ARRAY[2308]={name:"city hall",duration:1800},n.ITEM_TYPES_ARRAY[2309]={name:"courthouse",duration:1800},n.ITEM_TYPES_ARRAY[2310]={name:"electrician",duration:1800},n.ITEM_TYPES_ARRAY[2311]={name:"embassy",duration:1800},n.ITEM_TYPES_ARRAY[2312]={name:"finance",duration:1800},n.ITEM_TYPES_ARRAY[2313]={name:"financial institution",duration:1800},n.ITEM_TYPES_ARRAY[2314]={name:"fire station",duration:1800},n.ITEM_TYPES_ARRAY[2315]={name:"funeral home",duration:1800},n.ITEM_TYPES_ARRAY[2316]={name:"gas station",duration:1800},n.ITEM_TYPES_ARRAY[2317]={name:"gear rentals",duration:1800},n.ITEM_TYPES_ARRAY[2318]={name:"general contractor",duration:1800},n.ITEM_TYPES_ARRAY[2319]={name:"hair care",duration:1800},n.ITEM_TYPES_ARRAY[2320]={name:"insurance agency",duration:1800},n.ITEM_TYPES_ARRAY[2321]={name:"laundry",duration:1800},n.ITEM_TYPES_ARRAY[2322]={name:"lawyer",duration:1800},n.ITEM_TYPES_ARRAY[2323]={name:"locksmith",duration:1800},n.ITEM_TYPES_ARRAY[2324]={name:"movie rental",duration:1800},n.ITEM_TYPES_ARRAY[2325]={name:"moving company",duration:1800},n.ITEM_TYPES_ARRAY[2326]={name:"painter",duration:1800},n.ITEM_TYPES_ARRAY[2327]={name:"plumber",duration:1800},n.ITEM_TYPES_ARRAY[2328]={name:"police",duration:1800},n.ITEM_TYPES_ARRAY[2329]={name:"post office",duration:1800},n.ITEM_TYPES_ARRAY[2330]={name:"real estate agency",duration:1800},n.ITEM_TYPES_ARRAY[2331]={name:"roofing contractor",duration:1800},n.ITEM_TYPES_ARRAY[2332]={name:"rv park",duration:1800},n.ITEM_TYPES_ARRAY[2333]={name:"school",duration:1800},n.ITEM_TYPES_ARRAY[2334]={name:"storage",duration:1800},n.ITEM_TYPES_ARRAY[2335]={name:"travel agency",duration:1800},n.ITEM_TYPES_ARRAY[2336]={name:"university",duration:1800},n.ITEM_TYPES_ARRAY[2337]={name:"veterinary care",duration:1800},n.ITEM_TYPES_ARRAY[2338]={name:"Military Base",duration:3600},n.ITEM_TYPES_ARRAY[2339]={name:"Visitor Center",duration:1800},n.ITEM_TYPES_ARRAY[2340]={name:"college",duration:1800},n.ITEM_TYPES_ARRAY[2341]={name:"community center",duration:1800},n.ITEM_TYPES_ARRAY[2342]={name:"radio station",duration:1800},n.ITEM_TYPES_ARRAY[2343]={name:"power station",duration:1800},n.ITEM_TYPES_ARRAY[2344]={name:"Military site",duration:1800},n.ITEM_TYPES_ARRAY[2345]={name:"travel services",duration:1800},e["default"]=n}),define("tripmind-background/appconfig/utils",["exports","ember","tripmind-background/appconfig/constants"],function(e,t,a){var n={};n.itemTypeIsParent=function(e){return e>=a["default"].ITEM_TYPES_BY_NAME.COUNTRY&&e<a["default"].ITEM_TYPES_BY_NAME.NEIGHBORHOOD},n.itemTypeIsAttraction=function(e){return e>=a["default"].ITEM_TYPES_BY_NAME.ATTRACTION},n.itemTypeIsCountry=function(e){return e<=a["default"].ITEM_TYPES_BY_NAME.COUNTRY},n.itemTypeIsRegion=function(e){return e<=a["default"].ITEM_TYPES_BY_NAME.REGION},e["default"]=n}),define("tripmind-background/components/app-version",["exports","ember-cli-app-version/components/app-version","tripmind-background/config/environment"],function(e,t,a){var n=a["default"].APP.name,r=a["default"].APP.version;e["default"]=t["default"].extend({version:r,name:n})}),define("tripmind-background/controllers/array",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("tripmind-background/controllers/object",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("tripmind-background/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e["default"]=t["default"]}),define("tripmind-background/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e["default"]=t["default"]}),define("tripmind-background/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","tripmind-background/config/environment"],function(e,t,a){e["default"]={name:"App Version",initialize:(0,t["default"])(a["default"].APP.name,a["default"].APP.version)}}),define("tripmind-background/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e["default"]={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t["default"]),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("tripmind-background/initializers/data-adapter",["exports","ember"],function(e,t){e["default"]={name:"data-adapter",before:"store",initialize:t["default"].K}}),define("tripmind-background/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,a){e["default"]={name:"ember-data",initialize:t["default"]}}),define("tripmind-background/initializers/export-application-global",["exports","ember","tripmind-background/config/environment"],function(e,t,a){function n(){var e=arguments[1]||arguments[0];if(a["default"].exportApplicationGlobal!==!1){var n,r=a["default"].exportApplicationGlobal;n="string"==typeof r?r:t["default"].String.classify(a["default"].modulePrefix),window[n]||(window[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[n]}}))}}e.initialize=n,e["default"]={name:"export-application-global",initialize:n}}),define("tripmind-background/initializers/injectStore",["exports","ember"],function(e,t){e["default"]={name:"injectStore",before:"store",initialize:t["default"].K}}),define("tripmind-background/initializers/store",["exports","ember"],function(e,t){e["default"]={name:"store",after:"ember-data",initialize:t["default"].K}}),define("tripmind-background/initializers/transforms",["exports","ember"],function(e,t){e["default"]={name:"transforms",before:"store",initialize:t["default"].K}}),define("tripmind-background/instance-initializers/access-services",["exports","ember","tripmind-background/appconfig/better_sanitize","tripmind-background/mixins/promise_from_ajax","tripmind-background/appconfig/constants"],function(e,t,a,n,r){function i(e){var t=e.lookup("service:store"),i=e.lookup("service:item-details-service");window.TripmindStore=t,window.ItemDetailsService=i,window.sanitizeHtml=a["default"],window.promiseFromAjax=n["default"],window.TmConstants=r["default"]}e.initialize=i,e["default"]={name:"access-services",initialize:i}}),define("tripmind-background/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e["default"]={name:"ember-data",initialize:t["default"]}}),define("tripmind-background/instance-initializers/google_analytics",["exports"],function(e){e["default"]={name:"ga",initialize:function(){!function(e,t,a,n,r,i,o){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,i=t.createElement(a),o=t.getElementsByTagName(a)[0],i.async=1,i.src=n,o.parentNode.insertBefore(i,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-77264031-1","auto"),ga("set","checkProtocolTask",null)}}}),define("tripmind-background/instance-initializers/string-distance",["exports","ember","npm:fast-levenshtein"],function(e,t,a){function n(e){window.Levenshtein=a["default"],a["default"].distance=r,a["default"].lwDistance=o,a["default"].compoundDistance=u}e.initialize=n;var r=function(e,t){return 0==e.length&&0==t.length?0:1-a["default"].get(e,t)/Math.max(e.length,t.length)},i=function(e,t,a){var n=.1,r=e(t,a),i=[0,1,2,3].reduce(function(e,n){return e+(t.slice(0,n)==a.slice(0,n)?1:0)},0);return r+n*i*(1-r)},o=function(e,t){return i(r,e,t)},u=function(e,t,a,n){var r=t.split(/\s/),i=a.split(/\s/),o=r.length,u=i.length;if(0==o||0==u)return 0;var d={};r.forEach(function(t,a){i.forEach(function(n,r){d[[a,r]]=e(t,n)})});var l=r.map(function(e,t){return t}),m=i.map(function(e,t){return t}),s=l.reduce(function(e,t){return e+Math.pow(Math.max.apply(null,m.map(function(e){return d[[t,e]]})),n)},0),_=m.reduce(function(e,t){return e+Math.pow(Math.max.apply(null,l.map(function(e){return d[[e,t]]})),n)},0);return(Math.pow(s/o,1/n)+Math.pow(_/u,1/n))/2};e["default"]={name:"string-distance",initialize:n}}),define("tripmind-background/mixins/model_with_descs",["exports","ember","ember-data"],function(e,t,a){var n=t["default"].Mixin.create({longDesc:a["default"].attr("string"),oneliner:a["default"].attr("string"),altLongDesc:null,altOneliner:null,longDescOrAlt:function(){return this.get("altLongDesc")||this.get("longDesc")}.property("longDesc","altLongDesc"),onelinerOrAlt:function(){return this.get("altOneliner")||this.get("oneliner")}.property("oneliner","altOneliner"),onelinerOrLong:function(){return this.get("onelinerOrAlt")?this.get("onelinerOrAlt"):this.get("longDescOrAlt")?this.get("longDescOrAlt").replace(/<(?:.|\n)*?>/gm,"").slice(0,80)+"...":void 0}.property("onelinerOrAlt","longDescOrAlt")});e["default"]=n}),define("tripmind-background/mixins/promise_from_ajax",["exports","ember"],function(e,t){
var a=function(e){return new t["default"].RSVP.Promise(function(a,n){$.ajax(e).then(function(e){t["default"].run(null,a,e)},function(e){e.then=null,t["default"].run(null,n,e)})})};e["default"]=a}),define("tripmind-background/mixins/with_ancestry",["exports","ember"],function(e,t){e["default"]=t["default"].Mixin.create({parentName:function(){var e=this.get("ancestryNames");return e&&e.length>0?(e=e.split("/"),e[e.length-1]):!1}.property("ancestryNames"),itemTypeInParent:function(){var e=this.get("itemType"),t=this.get("parentName");return t?e+" in "+t:e}.property("itemTypeName","parentName"),path:function(){var e=this.get("ancestry");return e&&e.length>0?e+"/"+this.get("id"):this.get("id")}.property("ancestry","id"),pathNames:function(){var e=this.get("ancestryNames");return e&&e.length>0?e+"/"+this.get("name"):this.get("name")}.property("ancestryNames","name"),ancestorsArray:function(){var e=this.get("ancestry"),t=this.get("ancestryNames"),a=[];if(e&&e.length>0){var n=e.split("/"),r=t.split("/");a=n.map(function(e,t){return{target:"item",name:r[t],slug:e+"+"+r[t],offsetClass:"offset-"+(t+1)}})}var i=a.length;return a.push({target:"item",name:this.get("name"),slug:this.get("slug"),offsetClass:"offset-"+(i+1)+" is-selected"}),a}.property("ancestry","ancestryNames","name","slug")})}),define("tripmind-background/mixins/with_item_image",["exports","ember","tripmind-background/appconfig/constants"],function(e,t,a){var n=t["default"].Mixin.create({defaultImageUrl:"",defaultImageStyle:"background-color: #000",missingImage:t["default"].computed.empty("imageProvider"),imageUrl:"",imageStyle:"",imageProvider:null,itemImageUrl:function(){var e=this.get("imageBaseUrl");if(e){if(this.get("imageProvider")==a["default"].WANDERANT_IMAGES&&Math.floor(2*Math.random())%2==0)return e.replace(a["default"].CDN_PATH_1,a["default"].CDN_PATH_2);if(this.get("imageProvider")==a["default"].WIKIPEDIA_IMAGES){var t=e.split("/").pop();return e.replace("commons/","commons/thumb/").replace(t,[t,"/%@px-",t].join(""))}return e}return this.get("googleIcon")?this.get("googleIcon"):this.get("defaultImageUrl")}.property("imageBaseUrl","imageProvider","googleIcon"),itemImageStyle:function(){return[0,1,2,3,4,5,6,7].indexOf(this.get("imageProvider"))>-1?"background-image: url('%@');":this.get("googleIcon")?"background-image: url('%@'); background-size:71px;":this.get("defaultImageStyle")}.property("imageProvider","googleIcon"),itemArrayImageUrl:function(){return this.get("firstItemCalc")&&this.get("firstItemCalc.imageUrl")?this.get("firstItemCalc.imageUrl"):this.get("defaultImageUrl")}.property("firstItemCalc.imageUrl"),itemArrayImageStyle:function(){return this.get("firstItemCalc")&&this.get("firstItemCalc.imageStyle")?this.get("firstItemCalc.imageStyle"):this.get("defaultImageStyle")}.property("firstItemCalc.imageStyle"),imageSizeToken:function(e,t){return void 0==t?"":a["default"].IMAGE_PROVIDERS.find(function(e){return e.provider_id==t}).sizes.find(function(t){return t.name==e}).token},smallImageUrl:function(){return this.get("imageUrl").replace("%@",this.imageSizeToken("small",this.get("imageProvider")))}.property("imageUrl","imageProvider"),mediumImageUrl:function(){return this.get("imageUrl").replace("%@",this.imageSizeToken("medium",this.get("imageProvider")))}.property("imageUrl","imageProvider"),largeImageUrl:function(){return this.get("imageUrl").replace("%@",this.imageSizeToken("large",this.get("imageProvider")))}.property("imageUrl","imageProvider"),smallImageStyle:function(){return t["default"].String.htmlSafe(this.get("imageStyle").replace("%@",this.get("smallImageUrl")))}.property("imageStyle","smallImageUrl"),mediumImageStyle:function(){return t["default"].String.htmlSafe(this.get("imageStyle").replace("%@",this.get("mediumImageUrl")))}.property("imageStyle","mediumImageUrl"),largeImageStyle:function(){var e=this.get("imageStyle").replace("%@",this.get("largeImageUrl"));if(this.get("imageProvider")==a["default"].WIKIPEDIA_IMAGES){var n=e.split("/").pop();e=e.replace("/"+n,"").replace("commons/thumb/","commons/")+"');"}return t["default"].String.htmlSafe(e)}.property("imageStyle","largeImageUrl"),smallImage:t["default"].computed.alias("smallImageUrl"),mediumImage:t["default"].computed.alias("mediumImageUrl"),largeImage:t["default"].computed.alias("largeImageUrl")});e["default"]=n}),define("tripmind-background/models/item",["exports","ember","ember-data","tripmind-background/mixins/with_item_image","tripmind-background/mixins/with_ancestry","tripmind-background/mixins/model_with_descs","tripmind-background/appconfig/constants","tripmind-background/appconfig/utils"],function(e,t,a,n,r,i,o,u){var d=a["default"].Model.extend(n["default"],r["default"],i["default"],{name:a["default"].attr("string"),category:a["default"].attr("string"),captionName:a["default"].attr("string"),captionLink:a["default"].attr("string"),captionCc:a["default"].attr("string"),image:a["default"].attr("string"),address:a["default"].attr("string"),ancestry:a["default"].attr("string"),ancestryDepth:a["default"].attr("number"),ancestryNames:a["default"].attr("string"),duration:a["default"].attr("number",{defaultValue:3600}),lat:a["default"].attr("number"),lng:a["default"].attr("number"),boundSwLat:a["default"].attr("number"),boundSwLng:a["default"].attr("number"),boundNeLat:a["default"].attr("number"),boundNeLng:a["default"].attr("number"),userId:a["default"].attr("number"),itemType:a["default"].attr("string"),googleHours:a["default"].attr(),externalLinks:a["default"].attr(),phone:a["default"].attr("string"),rating:a["default"].attr("number",{defaultValue:3}),source:a["default"].attr("string"),price:a["default"].attr("string"),openingHoursText:a["default"].attr("string"),topItems:a["default"].attr("number"),isHighlight:a["default"].attr("boolean",{defaultValue:!1}),canHaveChildren:a["default"].attr("boolean"),hasSuggestedTrips:a["default"].attr("boolean"),isEditLocked:a["default"].attr("boolean",{defaultValue:!1}),parent:a["default"].belongsTo("item"),gmapsReference:a["default"].attr("string"),isGoogle:a["default"].attr("boolean",{defaultValue:!1}),isHidden:a["default"].attr("boolean",{defaultValue:!1}),additionalInfoComplete:a["default"].attr("boolean",{defaultValue:!1}),needsWikiContent:a["default"].attr("boolean"),needsFullGoogleInfo:a["default"].attr("boolean"),imageBaseUrl:a["default"].attr("string"),imageProvider:a["default"].attr("number"),reviewDigest:a["default"].attr("number"),googleResultOrder:a["default"].attr("number"),googleTypes:a["default"].attr(),ancestryObject:a["default"].attr(),parentOptions:a["default"].attr(),recentlyUpdated:a["default"].attr("boolean",{defaultValue:!1}),trackingStatus:a["default"].attr("boolean",{defaultValue:!0}),trippointsCount:a["default"].attr("number"),destinationRoute:"item.overview",isTemporary:a["default"].attr("boolean",{defaultValue:!1}),updatedAt:a["default"].attr("string"),potentialLinks:a["default"].hasMany("potentialLink"),itemDetailsService:t["default"].inject.service("item-details-service"),deletedStatus:t["default"].computed.not("trackingStatus"),updatedAtRecently:function(){return moment(this.get("updatedAt"),"X").startOf("day").calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"MM/DD",sameElse:"MM/DD"})}.property("updatedAt"),save:function(e){return-1==this.currentState.stateName.indexOf("deleted")&&this.set("updatedAt",moment().format("X")),this._super(e)},updatedAtDate:function(){return moment(this.get("updatedAt"),"X").format("MM/DD/YYYY")}.property("updatedAt"),itemTypeClean:function(){var e=this.get("itemType");return e?e.replace(/_/g," "):null}.property("itemType"),operatingHours:function(){var e=this.get("googleHours");return e?this.convertGoogleHours(e):this.get("operatingHoursText")}.property("googleHours","operatingHoursText"),imageUrl:t["default"].computed.alias("itemImageUrl"),imageStyle:t["default"].computed.alias("itemImageStyle"),photoStyle:function(){if(this.get("image"))return t["default"].String.htmlSafe("background-image: url("+this.get("image")+")");var e=o["default"].FLAT_DESIGN_COLORS.length,a=o["default"].FLAT_DESIGN_COLORS[Math.floor(Math.random()*e)];return t["default"].String.htmlSafe("background-image: url('assets/images/background-pattern.png'); background-color: "+a+";")}.property("image"),details:function(){for(var e=[],t=["address","phone"],a=0;a<t.length;a++){var n=t[a];this.get(n)&&e.push({name:n.capitalize(),value:this.get(n)})}return e}.property("address","phone","operatingHours"),itemTypeName:function(){return o["default"].ITEM_TYPES_ARRAY[this.get("itemType")]?o["default"].ITEM_TYPES_ARRAY[this.get("itemType")].name.capitalize():"Attraction"}.property("itemType"),slug:function(){var e=this.get("name");return[this.get("id").toString(),e?e.toLowerCase():""].join(" ").replace(/ /g,"+")}.property("id","name"),reviewedByArray:function(){var e=this.get("reviewDigest");if(e){var t=e.toString(2).split("").reverse();return t.map(function(e,t){return 1==e?{"class":"review_source_"+t}:null}).compact()}}.property("reviewDigest"),getAdditionalItemInfo:function(){console.log("getting more info for ",this.get("name")),this.get("itemDetailsService").getAdditionalItemInfo(this.get("id"))},isRegion:function(){return u["default"].itemTypeIsRegion(this.get("itemType"))}.property("itemType"),websiteLink:function(){var e=this.get("externalLinks");return e&&e.length>0?e[0].source:void 0}.property("externalLinks"),mapLink:function(){return"http://maps.google.com/maps?daddr="+this.get("lat")+","+this.get("lng")+"&amp;ll="}.property("lat","lng"),phoneLink:function(){return"tel:"+this.get("phone")}.property("phone"),convertGoogleHours:function(e){if(e){var t=function(e){return(e+1)%7},a=function(e){return(e+6)%7},n=function(e,n){if(e>n){for(var r=e,i=[];r!=a(n);)r=t(r),i.push(r);return i}for(var o=new Array(n-e+1),u=0;u<o.length;u++)o[u]=e+u;return o},r=function(e){return 3600*parseInt(e.slice(0,2))+60*parseInt(e.slice(2,4))},i=0,o=86400,u=[0,86400];if(!e||0==e.length)return null;if(1==e.length&&"0000"==e[0].open.time&&void 0===e[0].close){for(var d=new Array(7),l=0;l<d.length;l++)d[l]=[u];return d}for(var m=new Array(7),l=0;l<m.length;l++)m[l]=[];return e.forEach(function(e){var a=e.open.day,d=e.close.day,l=r(e.open.time),s=r(e.close.time);a==d?m[a].push([l,s]):(m[a].push([l,o]),s>i&&m[d].push([i,s]),t(a)!=d&&n(a,d).forEach(function(e){m[e]=[u]}))}),m}return null},secondsToTime:function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=a>=12?"PM":"AM";return 0==a&&(a=12),a>12&&(a-=12),n=["0",n].join("").slice(-2),n>0?[a,":",["0",n].join("").slice(-2),r].join(""):[a,r].join("")},textOperatingHours:function(){var e=this.get("operatingHours");if(e&&7==e.length){var t;e.isUniform()?(e=[e[0]],t=["Every day"]):(e=e.rotate(),t=o["default"].DAY_NAMES.rotate());for(var a=[],n=0;n<e.length;n++){for(var r=t[n],i=e[n],u=[],d=0;d<i.length;d++){var l=i[d],m=this.secondsToTime(l[0]),s=this.secondsToTime(l[1]),_=m==s?"Open 24 hours":[m," - ",s].join("");u[d]={period:_}}a[n]={title:r,periods:u.length?u:[{period:"Closed"}]}}return a}return[]}.property("operatingHours")});e["default"]=d}),define("tripmind-background/models/path-index",["exports","ember","ember-data"],function(e,t,a){e["default"]=a["default"].Model.extend({itemId:a["default"].attr("string")})}),define("tripmind-background/models/potential-link",["exports","ember","ember-data"],function(e,t,a){e["default"]=a["default"].Model.extend({createdAt:a["default"].attr("string"),lastVisited:a["default"].attr("string"),note:a["default"].attr("string"),image:a["default"].attr("string"),title:a["default"].attr("string"),description:a["default"].attr("string"),item:a["default"].belongsTo("item")})}),define("tripmind-background/resolver",["exports","ember-resolver"],function(e,t){e["default"]=t["default"]}),define("tripmind-background/router",["exports","ember","tripmind-background/config/environment"],function(e,t,a){var n=t["default"].Router.extend({location:a["default"].locationType});n.map(function(){}),e["default"]=n}),define("tripmind-background/serializers/localforage",["exports","ember-localforage-adapter/serializers/localforage"],function(e,t){e["default"]=t["default"]}),define("tripmind-background/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t["default"]}})}),define("tripmind-background/services/item-details-service",["exports","ember","tripmind-background/appconfig/constants"],function(e,t,a){e["default"]=t["default"].Service.extend({store:t["default"].inject.service("store"),getAdditionalItemInfo:function(e){var a=this.get("store"),n=this;return new t["default"].RSVP.Promise(function(r,i){var o=a.peekRecord("item",e);o&&o.get("additionalInfoComplete")&&r(o),t["default"].run.later(function(){gmaps.placesService.getDetails({placeId:e},function(t,o){var u=a.peekRecord("item",e);if(u&&t)if(ga("send","event","googlePlaces","getDetails"),u.set("phone",t.international_phone_number),!u.get("googleHours")&&t.opening_hours&&u.set("googleHours",t.opening_hours.periods),u.get("name")||u.set("name",t.name),!u.get("lat")&&t.geometry&&(u.set("lat",t.geometry.location.lat()),u.set("lng",t.geometry.location.lng())),t.types&&t.types.length>0&&u.set("itemType",t.types[0]),!u.get("image")&&t.photos&&t.photos[0]&&u.set("image",t.photos[0].getUrl({maxWidth:3e3})),t.address_components){var d=n.getAncestryFromAddress(t.address_components,t.name);u.set("ancestryNames",d);var l=u.get("pathNames");a.push({data:{id:l,type:"pathIndex",attributes:{itemId:e}}}),n.findParentFromAncestry(d,u.get("lat"),u.get("lng"),u).then(function(e){e&&(u.set("ancestryNames",e.get("pathNames")),u.set("ancestry",e.get("path"))),u.save().then(function(e){r(e)})})}else u.save().then(function(e){r(e)});else i({message:"didn't find the item or its representation in the store,"+o})})},1100)})},getAncestryFromAddress:function(e,t){for(var n=[],r=e.length-1;r>=0;r--){var i=e[r];i.long_name&&i.long_name.length>1&&i.long_name!=t&&i.types&&i.types[0]&&a["default"].allowedLocationTypesLimited.indexOf(i.types[0])>-1&&n.push(i.long_name)}return n.join("/")},findParentFromAncestry:function(e,t,a,n){var r=this.get("store"),i=this;return new Promise(function(n,o){if(0==e.length)n(null);else{var u=r.peekRecord("pathIndex",e);if(u){var d=r.peekRecord("item",u.get("itemId"));n(d)}else{var l=e.split("/"),m=(l.length>1?"(cities)":null,{input:l.reverse().join(", "),location:new google.maps.LatLng(t,a),radius:1e4});i.findParentFromQuery(m).then(function(e){return i.getAdditionalItemInfo(e.get("id"))}).then(function(e){n(e)})}}})},findParentFromQuery:function(e){var t=this.get("store"),n=this;return new Promise(function(r,i){gmaps.placesAutocompleteService.getPlacePredictions(e,function(e,o){if(o==google.maps.places.PlacesServiceStatus.OK)if(e&&e.length>0){var u=e.filter(function(e){return a["default"].allowedLocationTypes.indexOf(e.types[0])>-1}),d=u[0],l=$.extend(d,{name:d.terms[0].value}),m=n.buildItemInfoFromResults({},l),s=t.peekRecord("item",m.gmapsReference);s||(s=t.createRecord("item",$.extend(m,{id:m.gmapsReference}))),r(s)}else i({message:"no results found"});else i(o)})})},buildItemInfoFromResults:function(e,t){var a=e;return!a.lat&&t.geometry&&(a.lat=t.geometry.location.lat(),a.lng=t.geometry.location.lng()),t.photos&&t.photos.length>0&&(a.image=t.photos[0].getUrl({maxWidth:3e3}),a.image_attribution=t.photos[0].html_attributions[0]),t.types&&t.types.length>0&&(a.itemType=t.types[0]),t.rating&&(a.rating=t.rating),a.gmapsReference=t.place_id,a.address=t.formatted_address,a.rating=t.rating,a.name||(a.name=t.name),a.id||(a.id=t.place_id),a}})}),define("tripmind-background/templates/application",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes","wrong-type"]},revision:"Ember@2.4.3",loc:{source:null,start:{line:1,column:0},end:{line:4,column:0}},moduleName:"tripmind-background/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("h2");e.setAttribute(a,"id","title");var n=e.createTextNode("Welcome to Ember");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,2,2,a),n},statements:[["content","outlet",["loc",[null,[3,0],[3,10]]]]],locals:[],templates:[]}}())}),define("tripmind-background/config/environment",["ember"],function(e){var t="tripmind-background";try{var a=t+"/config/environment",n=e["default"].$('meta[name="'+a+'"]').attr("content"),r=JSON.parse(unescape(n));return{"default":r}}catch(i){throw new Error('Could not read config from meta tag with name "'+a+'".')}}),runningTests||require("tripmind-background/app")["default"].create({name:"tripmind-background",version:"0.0.0+9898e9a2"});